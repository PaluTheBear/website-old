{"ast":null,"code":"import _slicedToArray from\"/Users/paulmayer/Projects/paluthebear.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./DarkMode.css\";import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var DARK=\"Dark\";var LIGHT=\"Light\";var THEME=\"theme\";var COLOR_THEME=\"color-theme\";var Darkmode=function Darkmode(){var isMobile=window.innerWidth<=768;var storedTheme=localStorage.getItem(THEME)||LIGHT;var preferredDark=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;var _useState=useState(DARK),_useState2=_slicedToArray(_useState,2),displayed=_useState2[0],setDisplayed=_useState2[1];useEffect(function(){if(isMobile){preferredDark?setDarkMode():setLightMode();}else if(storedTheme===LIGHT){setLightMode();}else if(storedTheme===DARK){setDarkMode();}else{preferredDark?setDarkMode():setLightMode();}},[]);var setDarkMode=function setDarkMode(){localStorage.setItem(THEME,DARK);document.documentElement.setAttribute(COLOR_THEME,DARK);setDisplayed(LIGHT);};var setLightMode=function setLightMode(){localStorage.setItem(THEME,LIGHT);document.documentElement.setAttribute(COLOR_THEME,LIGHT);setDisplayed(DARK);};var toggleTheme=function toggleTheme(){if(displayed===LIGHT){setLightMode();}else if(displayed===DARK){setDarkMode();}};return/*#__PURE__*/_jsx(\"div\",{className:\"darkmode-wrapper\",children:/*#__PURE__*/_jsx(\"span\",{onClick:toggleTheme,children:displayed})});};export default Darkmode;","map":{"version":3,"names":["useEffect","useState","DARK","LIGHT","THEME","COLOR_THEME","Darkmode","isMobile","window","innerWidth","storedTheme","localStorage","getItem","preferredDark","matchMedia","matches","displayed","setDisplayed","setDarkMode","setLightMode","setItem","document","documentElement","setAttribute","toggleTheme"],"sources":["/Users/paulmayer/Projects/paluthebear.github.io/src/header/Darkmode.tsx"],"sourcesContent":["import \"./DarkMode.css\"\nimport {useEffect, useState} from \"react\";\nimport {ifError} from \"assert\";\n\nconst DARK = \"Dark\";\nconst LIGHT = \"Light\";\nconst THEME = \"theme\";\nconst COLOR_THEME = \"color-theme\"\n\nconst Darkmode = () => {\n    const isMobile = window.innerWidth <= 768;\n    const storedTheme = localStorage.getItem(THEME) || LIGHT;\n    const preferredDark =\n        window.matchMedia &&\n        window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n    const [displayed, setDisplayed] = useState(DARK)\n\n    useEffect(() => {\n        if (isMobile) {\n            preferredDark ? setDarkMode() : setLightMode();\n        } else if (storedTheme === LIGHT) {\n            setLightMode();\n        } else if (storedTheme === DARK){\n            setDarkMode();\n        } else {\n            preferredDark ? setDarkMode() : setLightMode();\n        }\n    }, [])\n\n    const setDarkMode = () => {\n        localStorage.setItem(THEME, DARK);\n        document.documentElement.setAttribute(COLOR_THEME, DARK);\n        setDisplayed(LIGHT);\n    }\n\n    const setLightMode = () => {\n        localStorage.setItem(THEME, LIGHT);\n        document.documentElement.setAttribute(COLOR_THEME,  LIGHT)\n        setDisplayed(DARK);\n    }\n\n    const toggleTheme = () => {\n        if (displayed === LIGHT) {\n            setLightMode()\n        } else if (displayed === DARK) {\n            setDarkMode()\n        }\n    }\n\n    return (\n        <div className=\"darkmode-wrapper\">\n            <span onClick={toggleTheme}>{displayed}</span>\n        </div>\n    );\n};\n\n\nexport default Darkmode;\n"],"mappings":"qIAAA,MAAO,gBAAP,CACA,OAAQA,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,C,2CAGA,GAAMC,KAAI,CAAG,MAAb,CACA,GAAMC,MAAK,CAAG,OAAd,CACA,GAAMC,MAAK,CAAG,OAAd,CACA,GAAMC,YAAW,CAAG,aAApB,CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,GAAMC,SAAQ,CAAGC,MAAM,CAACC,UAAP,EAAqB,GAAtC,CACA,GAAMC,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqBR,KAArB,GAA+BD,KAAnD,CACA,GAAMU,cAAa,CACfL,MAAM,CAACM,UAAP,EACAN,MAAM,CAACM,UAAP,CAAkB,8BAAlB,EAAkDC,OAFtD,CAIA,cAAkCd,QAAQ,CAACC,IAAD,CAA1C,wCAAOc,SAAP,eAAkBC,YAAlB,eAEAjB,SAAS,CAAC,UAAM,CACZ,GAAIO,QAAJ,CAAc,CACVM,aAAa,CAAGK,WAAW,EAAd,CAAmBC,YAAY,EAA5C,CACH,CAFD,IAEO,IAAIT,WAAW,GAAKP,KAApB,CAA2B,CAC9BgB,YAAY,GACf,CAFM,IAEA,IAAIT,WAAW,GAAKR,IAApB,CAAyB,CAC5BgB,WAAW,GACd,CAFM,IAEA,CACHL,aAAa,CAAGK,WAAW,EAAd,CAAmBC,YAAY,EAA5C,CACH,CACJ,CAVQ,CAUN,EAVM,CAAT,CAYA,GAAMD,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtBP,YAAY,CAACS,OAAb,CAAqBhB,KAArB,CAA4BF,IAA5B,EACAmB,QAAQ,CAACC,eAAT,CAAyBC,YAAzB,CAAsClB,WAAtC,CAAmDH,IAAnD,EACAe,YAAY,CAACd,KAAD,CAAZ,CACH,CAJD,CAMA,GAAMgB,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvBR,YAAY,CAACS,OAAb,CAAqBhB,KAArB,CAA4BD,KAA5B,EACAkB,QAAQ,CAACC,eAAT,CAAyBC,YAAzB,CAAsClB,WAAtC,CAAoDF,KAApD,EACAc,YAAY,CAACf,IAAD,CAAZ,CACH,CAJD,CAMA,GAAMsB,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtB,GAAIR,SAAS,GAAKb,KAAlB,CAAyB,CACrBgB,YAAY,GACf,CAFD,IAEO,IAAIH,SAAS,GAAKd,IAAlB,CAAwB,CAC3BgB,WAAW,GACd,CACJ,CAND,CAQA,mBACI,YAAK,SAAS,CAAC,kBAAf,uBACI,aAAM,OAAO,CAAEM,WAAf,UAA6BR,SAA7B,EADJ,EADJ,CAKH,CA9CD,CAiDA,cAAeV,SAAf"},"metadata":{},"sourceType":"module"}